<html>
<head>
<script src="http://ioserver-antrax.rhcloud.com:8000/socket.io/socket.io.js"></script>
<script>
      // Tell Socket.IO where to find the Flash component if the browser needs it.
      WEB_SOCKET_SWF_LOCATION = 'http://ioserver-antrax.rhcloud.com:8000/socket.io/WebSocketMain.swf';
    </script>
</head>
<body>
	<h1>Socket.IO Demo</h1>

	<!-- A log for messages -->
	<div id="messages"
		style="border: 1px solid #000; width: 100%; color: #0F0; background: #000; font-family: monospace;">
		Connecting to server...<br />
	</div>
	<script>
      var messages = document.getElementById('messages');

      //var socket = io.connect('http://localhost:8000');
	  var socket = io.connect('http://ioserver-antrax.rhcloud.com:8000');
      
      socket.on('connect',
        function() {
          messages.innerHTML += 'Connected<br/>';	

          socket.emit('join', { name: 'pedro' });
        });

      socket.on('message',
         function(data) {
           messages.innerHTML += 'message : "' + JSON.stringify(data) + '"<br/>';

           socket.emit('myResponseType', { my: 'data' });
        });

      socket.on('join user',
         function(data) {
           messages.innerHTML += 'join user: "' + JSON.stringify(data) + '"<br/>';

        });

      socket.on('list user',
         function(data) {
           messages.innerHTML += 'list users: "' + JSON.stringify(data)+ '"<br/>';

        });

      socket.on('action',
         function(data) {
    	  console.log("data: " + data);
           messages.innerHTML += data.name + ' action: "' + data.x + ", " + data.y + ", " + data.z + '<br/>';

           socket.emit('myResponseType', { my: 'data' });
        });

      socket.on('colorMessage',
         function(data) { 
            document.getElementById('colorsquare').style.background = data.color;
         });
    </script>

</body>
</html>